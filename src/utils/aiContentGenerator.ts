// Enhanced AI content generation with exact search-based matching for images and videos

export const organicTrafficContent = [
  "🚀 Transform your organic traffic with AI-powered SEO strategies and cutting-edge digital tools. Our comprehensive suite helps entrepreneurs build sustainable online businesses through proven organic growth methods, advanced keyword optimization, and intelligent content marketing systems.",
  "📈 Discover the future of organic traffic generation with our AI-enhanced digital products. From automated SEO analysis to smart content optimization, everything you need to dominate search results and attract high-quality traffic that converts into loyal customers.",
  "🎯 Boost your website's organic visibility using our expert-curated collection of AI-powered SEO resources. Master technical SEO, content marketing, and organic growth strategies that have helped thousands of businesses achieve sustainable online success.",
  "💡 Master organic traffic generation with our revolutionary AI-driven digital products. Comprehensive step-by-step guides, automated SEO tools, and intelligent analytics help you build lasting online success through sustainable organic growth strategies.",
  "🌟 Unlock sustainable organic growth with our AI-powered digital marketplace. Proven strategies, intelligent templates, and cutting-edge tools designed by SEO experts help businesses achieve higher rankings, better conversions, and long-term online success.",
  "⚡ Experience the difference that AI-enhanced organic traffic makes for your business. Our digital products combine artificial intelligence with proven SEO methodologies to deliver exceptional results in search rankings and sustainable traffic growth."
];

// Enhanced contextual image mapping for specific search terms with exact matching
export const contextualImages = {
  // ClickBank specific searches
  "make money with clickbank": [
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80&overlay=text&text=ClickBank%20Success", // affiliate dashboard with ClickBank overlay
    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop&auto=format&q=80", // ClickBank affiliate marketing
    "https://images.unsplash.com/photo-1556155092-490a1ba16284?w=800&h=400&fit=crop&auto=format&q=80", // digital product sales with ClickBank theme
  ],
  "clickbank affiliate": [
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // affiliate commission tracking
    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop&auto=format&q=80", // ClickBank performance dashboard
    "https://images.unsplash.com/photo-1556155092-490a1ba16284?w=800&h=400&fit=crop&auto=format&q=80", // ClickBank marketplace
  ],
  "clickbank marketing": [
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // ClickBank marketing analytics
    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop&auto=format&q=80", // ClickBank promotion strategies
    "https://images.unsplash.com/photo-1556155092-490a1ba16284?w=800&h=400&fit=crop&auto=format&q=80", // ClickBank success metrics
  ],

  // Facebook Ads specific searches
  "facebook ads": [
    "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800&h=400&fit=crop&auto=format&q=80", // Facebook advertising interface
    "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=400&fit=crop&auto=format&q=80", // Facebook ads manager
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80", // Facebook mobile advertising
  ],
  "facebook advertising": [
    "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800&h=400&fit=crop&auto=format&q=80", // Facebook business advertising
    "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=400&fit=crop&auto=format&q=80", // Facebook ad campaigns
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80", // Facebook targeting options
  ],

  // Make money from home specific
  "make money from home": [
    "https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?w=800&h=400&fit=crop&auto=format&q=80", // person working from home setup
    "https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&h=400&fit=crop&auto=format&q=80", // home office workspace
    "https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?w=800&h=400&fit=crop&auto=format&q=80", // remote work setup
  ],
  "work from home": [
    "https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?w=800&h=400&fit=crop&auto=format&q=80", // home office
    "https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&h=400&fit=crop&auto=format&q=80", // remote workspace
    "https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?w=800&h=400&fit=crop&auto=format&q=80", // laptop home setup
  ],

  // TikTok specific searches
  "make money with tiktok": [
    "https://images.unsplash.com/photo-1570194065650-d99bf9d4d665?w=800&h=400&fit=crop&auto=format&q=80", // TikTok content creation
    "https://images.unsplash.com/photo-1562577309-2592ab84b1bc?w=800&h=400&fit=crop&auto=format&q=80", // TikTok video monetization
    "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800&h=400&fit=crop&auto=format&q=80", // TikTok creator analytics
  ],
  "tiktok marketing": [
    "https://images.unsplash.com/photo-1570194065650-d99bf9d4d665?w=800&h=400&fit=crop&auto=format&q=80", // TikTok marketing strategy
    "https://images.unsplash.com/photo-1562577309-2592ab84b1bc?w=800&h=400&fit=crop&auto=format&q=80", // TikTok business content
    "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800&h=400&fit=crop&auto=format&q=80", // TikTok engagement metrics
  ],

  // Add more specific search terms
  "affiliate marketing": [
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // affiliate commission tracking
    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop&auto=format&q=80", // affiliate performance dashboard
    "https://images.unsplash.com/photo-1556155092-490a1ba16284?w=800&h=400&fit=crop&auto=format&q=80", // affiliate networks interface
  ],

  // Add more contextual mappings here...
};

// Enhanced video content mapping for exact search matching
export const contextualVideos = {
  "make money with clickbank": {
    url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4",
    title: "ClickBank Profit Mastery",
    description: "Learn proven ClickBank affiliate strategies that generate consistent commissions",
    duration: "30s"
  },
  "clickbank affiliate": {
    url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4",
    title: "ClickBank Affiliate Success",
    description: "Master ClickBank affiliate marketing with expert strategies",
    duration: "30s"
  },
  "facebook ads": {
    url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4",
    title: "Facebook Ads Mastery",
    description: "Create high-converting Facebook ad campaigns that drive results",
    duration: "30s"
  },
  "make money from home": {
    url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4",
    title: "Work From Home Success",
    description: "Build a profitable home-based business with proven strategies",
    duration: "30s"
  },
  "tiktok marketing": {
    url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4",
    title: "TikTok Marketing Blueprint",
    description: "Viral TikTok marketing strategies that build your brand",
    duration: "30s"
  },
  "make money with tiktok": {
    url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4",
    title: "TikTok Monetization Guide",
    description: "Turn your TikTok content into a profitable business",
    duration: "30s"
  }
};

// Add missing image categories
export const aiImagesByCategory = {
  ai: [
    "https://images.unsplash.com/photo-1518770660439-4636190af475?w=800&h=400&fit=crop&auto=format&q=80",
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80",
    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop&auto=format&q=80"
  ],
  seo: [
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80",
    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop&auto=format&q=80",
    "https://images.unsplash.com/photo-1518770660439-4636190af475?w=800&h=400&fit=crop&auto=format&q=80"
  ],
  social: [
    "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=400&fit=crop&auto=format&q=80",
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80",
    "https://images.unsplash.com/photo-1570194065650-d99bf9d4d665?w=800&h=400&fit=crop&auto=format&q=80"
  ],
  content: [
    "https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=800&h=400&fit=crop&auto=format&q=80",
    "https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?w=800&h=400&fit=crop&auto=format&q=80",
    "https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?w=800&h=400&fit=crop&auto=format&q=80"
  ],
  email: [
    "https://images.unsplash.com/photo-1586953208448-b95a79798f07?w=800&h=400&fit=crop&auto=format&q=80",
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80",
    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop&auto=format&q=80"
  ],
  marketing: [
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80",
    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop&auto=format&q=80",
    "https://images.unsplash.com/photo-1504868584819-f8e8b4b6d7e3?w=800&h=400&fit=crop&auto=format&q=80"
  ],
  traffic: [
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80",
    "https://images.unsplash.com/photo-1518770660439-4636190af475?w=800&h=400&fit=crop&auto=format&q=80",
    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop&auto=format&q=80"
  ]
};

// Add missing video categories
export const videosByCategory = {
  ai: [
    { url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4", title: "AI Marketing Revolution", description: "Transform your business with AI", duration: "30s" }
  ],
  seo: [
    { url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4", title: "SEO Mastery Guide", description: "Dominate search rankings", duration: "30s" }
  ],
  social: [
    { url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerBlazes.mp4", title: "Social Media Success", description: "Build your social presence", duration: "30s" }
  ],
  content: [
    { url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerEscapes.mp4", title: "Content Creation Pro", description: "Create engaging content", duration: "30s" }
  ],
  email: [
    { url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerFun.mp4", title: "Email Marketing Magic", description: "Boost email conversions", duration: "30s" }
  ],
  marketing: [
    { url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerJoyrides.mp4", title: "Marketing Mastery", description: "Advanced marketing strategies", duration: "30s" }
  ],
  traffic: [
    { url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ForBiggerMeltdowns.mp4", title: "Traffic Generation", description: "Drive organic traffic", duration: "30s" }
  ]
};

// Add missing AI intro videos
export const aiIntroVideos = [
  { url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4", title: "AI Marketing Revolution", description: "Transform your business with AI", duration: "30s" },
  { url: "https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4", title: "Digital Success Blueprint", description: "Your path to online success", duration: "30s" }
];

// Enhanced platform-specific images
export const platformSpecificImages = {
  facebook: [
    "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800&h=400&fit=crop&auto=format&q=80", // Facebook marketing
    "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=400&fit=crop&auto=format&q=80", // Social media strategy
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80", // Mobile social engagement
  ],
  tiktok: [
    "https://images.unsplash.com/photo-1570194065650-d99bf9d4d665?w=800&h=400&fit=crop&auto=format&q=80", // TikTok style content
    "https://images.unsplash.com/photo-1562577309-2592ab84b1bc?w=800&h=400&fit=crop&auto=format&q=80", // Video content creation
    "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800&h=400&fit=crop&auto=format&q=80", // Social media marketing
  ],
  instagram: [
    "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=400&fit=crop&auto=format&q=80", // Instagram feed
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80", // Visual content
    "https://images.unsplash.com/photo-1570194065650-d99bf9d4d665?w=800&h=400&fit=crop&auto=format&q=80", // Social media icons
  ],
  youtube: [
    "https://images.unsplash.com/photo-1562577309-2592ab84b1bc?w=800&h=400&fit=crop&auto=format&q=80", // Video creation
    "https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?w=800&h=400&fit=crop&auto=format&q=80", // Content creation
    "https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=800&h=400&fit=crop&auto=format&q=80", // Video strategy
  ],
  affiliate: [
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // Business analytics
    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop&auto=format&q=80", // Performance tracking
    "https://images.unsplash.com/photo-1504868584819-f8e8b4b6d7e3?w=800&h=400&fit=crop&auto=format&q=80", // Marketing tools
  ],
  ecommerce: [
    "https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=400&fit=crop&auto=format&q=80", // E-commerce setup
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80", // Online shopping
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // Business growth
  ]
};

// Add missing export functions
export const generateAITitle = (searchTerm: string): string => {
  const lowerSearchTerm = searchTerm.toLowerCase();
  
  if (lowerSearchTerm.includes('clickbank')) {
    return `💰 ClickBank Profit System: ${searchTerm}`;
  } else if (lowerSearchTerm.includes('facebook ads') || lowerSearchTerm.includes('facebook advertising')) {
    return `📢 Facebook Ads Mastery: ${searchTerm}`;
  } else if (lowerSearchTerm.includes('facebook')) {
    return `🚀 Master Facebook Success: ${searchTerm}`;
  } else if (lowerSearchTerm.includes('tiktok')) {
    return `🎵 TikTok Money Mastery: ${searchTerm}`;
  } else if (lowerSearchTerm.includes('instagram')) {
    return `📸 Instagram Growth Blueprint: ${searchTerm}`;
  } else if (lowerSearchTerm.includes('youtube')) {
    return `▶️ YouTube Success Formula: ${searchTerm}`;
  } else if (lowerSearchTerm.includes('affiliate')) {
    return `🤝 Affiliate Marketing Pro: ${searchTerm}`;
  } else if (lowerSearchTerm.includes('crypto') || lowerSearchTerm.includes('bitcoin')) {
    return `₿ Crypto Success Guide: ${searchTerm}`;
  } else if (lowerSearchTerm.includes('make money') || lowerSearchTerm.includes('income')) {
    return `💸 Income Generation: ${searchTerm}`;
  }
  
  return `🚀 AI-Powered Success: ${searchTerm}`;
};

// Enhanced function to get images based on search query with exact matching
export const getImageBySearchQuery = (searchQuery: string): string => {
  const lowerQuery = searchQuery.toLowerCase().trim();
  
  // Check for exact contextual matches first
  for (const [key, images] of Object.entries(contextualImages)) {
    if (lowerQuery.includes(key.toLowerCase()) || key.toLowerCase().includes(lowerQuery)) {
      return images[Math.floor(Math.random() * images.length)];
    }
  }
  
  // Check for platform-specific matches
  if (lowerQuery.includes('facebook')) {
    const images = platformSpecificImages.facebook;
    return images[Math.floor(Math.random() * images.length)];
  }
  
  if (lowerQuery.includes('tiktok')) {
    const images = platformSpecificImages.tiktok;
    return images[Math.floor(Math.random() * images.length)];
  }
  
  if (lowerQuery.includes('instagram')) {
    const images = platformSpecificImages.instagram;
    return images[Math.floor(Math.random() * images.length)];
  }
  
  if (lowerQuery.includes('youtube')) {
    const images = platformSpecificImages.youtube;
    return images[Math.floor(Math.random() * images.length)];
  }
  
  // Fallback to category-based matching
  let category = 'ai'; // default
  
  if (lowerQuery.includes('seo') || lowerQuery.includes('search') || lowerQuery.includes('ranking')) {
    category = 'seo';
  } else if (lowerQuery.includes('social') || lowerQuery.includes('media')) {
    category = 'social';
  } else if (lowerQuery.includes('content') || lowerQuery.includes('blog') || lowerQuery.includes('article')) {
    category = 'content';
  } else if (lowerQuery.includes('email') || lowerQuery.includes('newsletter')) {
    category = 'email';
  } else if (lowerQuery.includes('marketing') || lowerQuery.includes('promotion')) {
    category = 'marketing';
  } else if (lowerQuery.includes('traffic') || lowerQuery.includes('organic') || lowerQuery.includes('visitor')) {
    category = 'traffic';
  }
  
  const images = aiImagesByCategory[category] || aiImagesByCategory['ai'];
  return images[Math.floor(Math.random() * images.length)];
};

// Enhanced function to get 3 mockup images with better contextual matching
export const getMockupImagesBySearchQuery = (searchQuery: string): Array<{url: string, description: string}> => {
  const lowerQuery = searchQuery.toLowerCase().trim();
  
  // Check for exact contextual matches first
  for (const [key, images] of Object.entries(contextualImages)) {
    if (lowerQuery.includes(key.toLowerCase()) || key.toLowerCase().includes(lowerQuery)) {
      return [
        { 
          url: images[0], 
          description: `${searchQuery} Strategy - Professional approach to ${searchQuery}` 
        },
        { 
          url: images[1] || images[0], 
          description: `${searchQuery} Success - Proven techniques for ${searchQuery}` 
        },
        { 
          url: images[2] || images[0], 
          description: `${searchQuery} Mastery - Advanced ${searchQuery} methods` 
        }
      ];
    }
  }

  // Platform-specific matching with detailed descriptions
  if (lowerQuery.includes('facebook')) {
    return [
      { url: platformSpecificImages.facebook[0], description: "Facebook Marketing Strategy - Advanced audience targeting and engagement tactics" },
      { url: platformSpecificImages.facebook[1], description: "Facebook Ads Optimization - ROI-focused advertising campaigns" },
      { url: platformSpecificImages.facebook[2], description: "Facebook Business Growth - Scaling your presence on the platform" }
    ];
  }
  
  if (lowerQuery.includes('tiktok')) {
    return [
      { url: platformSpecificImages.tiktok[0], description: "TikTok Viral Content - Creating engaging videos that trend" },
      { url: platformSpecificImages.tiktok[1], description: "TikTok Marketing Strategy - Building brand awareness through short-form video" },
      { url: platformSpecificImages.tiktok[2], description: "TikTok Monetization - Creator fund and brand partnership opportunities" }
    ];
  }
  
  if (lowerQuery.includes('instagram')) {
    return [
      { url: platformSpecificImages.instagram[0], description: "Instagram Growth Hacks - Organic follower and engagement strategies" },
      { url: platformSpecificImages.instagram[1], description: "Instagram Stories & Reels - Creative content that converts" },
      { url: platformSpecificImages.instagram[2], description: "Instagram Business Success - Converting followers into customers" }
    ];
  }
  
  if (lowerQuery.includes('youtube')) {
    return [
      { url: platformSpecificImages.youtube[0], description: "YouTube Channel Growth - Subscriber acquisition and retention strategies" },
      { url: platformSpecificImages.youtube[1], description: "YouTube Monetization - Ad revenue, sponsorships, and channel memberships" },
      { url: platformSpecificImages.youtube[2], description: "YouTube SEO Mastery - Ranking videos and increasing discoverability" }
    ];
  }

  // Money-making specific descriptions
  if (lowerQuery.includes('make money') || lowerQuery.includes('income') || lowerQuery.includes('earn')) {
    const moneyImages = contextualImages["make money online"] || aiImagesByCategory.marketing;
    return [
      { url: moneyImages[0], description: "Online Income Generation - Multiple revenue stream strategies" },
      { url: moneyImages[1] || moneyImages[0], description: "Digital Profit Optimization - Maximizing your earning potential" },
      { url: moneyImages[2] || moneyImages[0], description: "Passive Income Systems - Automated revenue generation methods" }
    ];
  }

  // Default mockups based on category
  const category = determineCategory(lowerQuery);
  const images = aiImagesByCategory[category] || aiImagesByCategory.ai;
  
  return [
    { url: images[0], description: `Professional ${category} strategy - Advanced techniques and best practices` },
    { url: images[1] || images[0], description: `${category} optimization - Data-driven approach to success` },
    { url: images[2] || images[0], description: `${category} automation - AI-powered tools and workflows` }
  ];
};

// Helper function to determine category
const determineCategory = (query: string): string => {
  if (query.includes('clickbank') || query.includes('affiliate')) return 'marketing';
  if (query.includes('facebook') || query.includes('social')) return 'social';
  if (query.includes('tiktok') || query.includes('youtube')) return 'social';
  if (query.includes('seo') || query.includes('search')) return 'seo';
  if (query.includes('content') || query.includes('blog')) return 'content';
  if (query.includes('email') || query.includes('newsletter')) return 'email';
  if (query.includes('marketing') || query.includes('promotion')) return 'marketing';
  if (query.includes('traffic') || query.includes('organic')) return 'traffic';
  return 'ai';
};

// Enhanced function to get videos based on search query
export const getVideoBySearchQuery = (searchQuery: string) => {
  const lowerQuery = searchQuery.toLowerCase();
  
  let category = 'ai'; // default
  
  if (lowerQuery.includes('seo') || lowerQuery.includes('search') || lowerQuery.includes('ranking')) {
    category = 'seo';
  } else if (lowerQuery.includes('social') || lowerQuery.includes('media')) {
    category = 'social';
  } else if (lowerQuery.includes('content') || lowerQuery.includes('blog') || lowerQuery.includes('article')) {
    category = 'content';
  } else if (lowerQuery.includes('email') || lowerQuery.includes('newsletter')) {
    category = 'email';
  } else if (lowerQuery.includes('marketing') || lowerQuery.includes('promotion')) {
    category = 'marketing';
  } else if (lowerQuery.includes('traffic') || lowerQuery.includes('organic') || lowerQuery.includes('visitor')) {
    category = 'traffic';
  }
  
  const videos = videosByCategory[category] || videosByCategory['ai'];
  const selectedVideo = videos[Math.floor(Math.random() * videos.length)];
  
  return {
    url: selectedVideo.url,
    title: selectedVideo.title,
    description: `${selectedVideo.description} - Optimized for "${searchQuery}"`,
    duration: selectedVideo.duration,
    category: category
  };
};

// Enhanced function to get 30-second intro videos based on subject with better keyword matching
export const getIntroVideoBySubject = (subject: string) => {
  const lowerSubject = subject.toLowerCase();
  
  // Determine category based on subject keywords
  let category = 'ai'; // default
  
  if (lowerSubject.includes('seo') || lowerSubject.includes('search') || lowerSubject.includes('ranking')) {
    category = 'seo';
  } else if (lowerSubject.includes('traffic') || lowerSubject.includes('organic') || lowerSubject.includes('visitor')) {
    category = 'traffic';
  } else if (lowerSubject.includes('digital') || lowerSubject.includes('toolkit') || lowerSubject.includes('tool')) {
    category = 'digital';
  } else if (lowerSubject.includes('marketing') || lowerSubject.includes('campaign') || lowerSubject.includes('promotion')) {
    category = 'marketing';
  } else if (lowerSubject.includes('ai') || lowerSubject.includes('powered') || lowerSubject.includes('artificial')) {
    category = 'ai';
  } else if (lowerSubject.includes('social') || lowerSubject.includes('media') || lowerSubject.includes('facebook') || lowerSubject.includes('instagram')) {
    category = 'social';
  } else if (lowerSubject.includes('content') || lowerSubject.includes('blog') || lowerSubject.includes('article')) {
    category = 'content';
  } else if (lowerSubject.includes('email') || lowerSubject.includes('newsletter')) {
    category = 'email';
  }
  
  const videos = videosByCategory[category] || videosByCategory['ai'];
  const selectedVideo = videos[Math.floor(Math.random() * videos.length)];
  
  return {
    url: selectedVideo.url,
    title: selectedVideo.title,
    description: `${selectedVideo.description} - Optimized for "${subject}"`,
    duration: selectedVideo.duration,
    category: category
  };
};

// New function to get content based on search terms
export const getContentBySearchTerm = (searchTerm: string) => {
  const lowerSearchTerm = searchTerm.toLowerCase();
  
  if (lowerSearchTerm.includes('seo')) {
    return "🚀 Master SEO with our AI-powered tools and strategies. Transform your search rankings with intelligent keyword research, automated content optimization, and proven techniques that drive organic traffic growth.";
  } else if (lowerSearchTerm.includes('social media')) {
    return "📱 Revolutionize your social media presence with AI-enhanced content creation, automated posting schedules, and intelligent audience engagement strategies that boost your organic reach.";
  } else if (lowerSearchTerm.includes('content marketing')) {
    return "✍️ Elevate your content marketing with AI-powered creation tools, smart distribution strategies, and data-driven optimization techniques that attract and convert your target audience.";
  } else if (lowerSearchTerm.includes('email marketing')) {
    return "📧 Transform your email campaigns with AI-generated content, intelligent segmentation, and automated personalization that increases open rates and drives conversions.";
  }
  
  return getRandomContent();
};

export const getRandomContent = () => {
  return organicTrafficContent[Math.floor(Math.random() * organicTrafficContent.length)];
};

export const getRandomImage = () => {
  const allImages = Object.values(aiImagesByCategory).flat();
  return allImages[Math.floor(Math.random() * allImages.length)];
};

// Updated to get 30-second intro videos
export const getRandomVideo = () => {
  const randomIntro = aiIntroVideos[Math.floor(Math.random() * aiIntroVideos.length)];
  return randomIntro.url;
};

// Email content generator function with exact search term matching
export const generateEmailContent = (searchTerm: string, targetAudience: string = "organic-traffic"): string => {
  const lowerSearchTerm = searchTerm.toLowerCase();
  
  if (lowerSearchTerm.includes('clickbank')) {
    return `💰 Unlock the ClickBank profit system that's generating $500+ daily for smart affiliates!

ClickBank remains one of the most lucrative affiliate platforms, and our proven system shows you exactly how to tap into this goldmine. Learn the insider strategies that top ClickBank affiliates use to generate consistent commissions.

✨ Your Complete ClickBank Arsenal:
• High-converting product selection strategies specific to ClickBank
• Traffic generation methods that work with ClickBank offers
• Email marketing funnels optimized for ClickBank success
• Advanced ClickBank promotion techniques
• Commission optimization tactics for maximum ClickBank profits
• Scaling strategies for sustainable ClickBank income

🎯 Perfect for organic traffic audiences looking to build a sustainable ClickBank affiliate income.

Ready to claim your share of ClickBank profits? Get started now!`;
  }
  
  if (lowerSearchTerm.includes('facebook ads')) {
    return `📢 Master Facebook Ads with our comprehensive advertising blueprint that's generating 300% ROI!

Discover the exact Facebook advertising strategies used by top marketers to create profitable ad campaigns. From audience targeting to ad creative optimization, we'll show you everything you need to succeed with Facebook Ads.

✨ Your Facebook Ads Mastery System:
• Advanced Facebook audience targeting strategies
• High-converting ad creative formulas
• Facebook Ads Manager optimization techniques
• Retargeting campaigns that convert
• Budget optimization for maximum ROI
• Scaling successful Facebook ad campaigns

🎯 Designed specifically for organic traffic audiences ready to amplify their reach with Facebook Ads.

Start dominating Facebook advertising today!`;
  }
  
  if (lowerSearchTerm.includes('make money from home')) {
    return `🏠 Transform your home into a profit-generating headquarters with our comprehensive work-from-home system!

Say goodbye to the daily commute and hello to financial freedom. Our proven system reveals multiple income streams you can build from the comfort of your home, perfect for anyone seeking location independence.

✨ Your Home-Based Business Toolkit:
• 7 proven online business models for home-based success
• Step-by-step setup guides for each home income stream
• Home office optimization for maximum productivity
• Time management strategies for work-life balance
• Scaling techniques to increase your home-based earnings
• Legal and tax considerations for home businesses

🎯 Ideal for organic traffic audiences ready to take control of their financial future from home.

Start building your home-based empire today!`;
  }
  
  if (lowerSearchTerm.includes('tiktok')) {
    return `🎵 Turn your TikTok passion into profit with our comprehensive TikTok monetization system!

Discover how everyday creators are earning $1,000+ monthly through TikTok using proven strategies that work. From viral content creation to brand partnerships, we'll show you exactly how to monetize your TikTok presence.

✨ Inside This Complete TikTok System:
• Viral TikTok content formulas that guarantee engagement
• TikTok Creator Fund optimization strategies
• Brand partnership negotiation tactics for TikTok
• Affiliate marketing through TikTok content
• TikTok live streaming monetization techniques
• Advanced TikTok analytics and growth hacking

🎯 Designed specifically for organic traffic audiences ready to tap into the TikTok goldmine.

Start your TikTok money journey today!`;
  }
  
  // Default content for other search terms
  return `🚀 Discover the AI-powered strategies that are revolutionizing ${searchTerm}!

Our comprehensive system combines cutting-edge artificial intelligence with proven marketing techniques to help you achieve unprecedented results in the ${searchTerm} space.

✨ What Makes This Different:
• AI-enhanced optimization for maximum ${searchTerm} performance
• Data-driven ${searchTerm} strategies based on real results
• Step-by-step ${searchTerm} implementation guides
• Exclusive ${searchTerm} tools and resources
• Community support from fellow ${searchTerm} entrepreneurs
• Regular updates with the latest ${searchTerm} techniques

🎯 Specifically designed for organic traffic audiences who want to leverage technology for ${searchTerm} business growth.

Ready to transform your ${searchTerm} results? Get started today!`;
};
