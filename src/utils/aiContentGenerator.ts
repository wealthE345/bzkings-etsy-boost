// Enhanced AI content generation with search-based matching and advanced images

export const organicTrafficContent = [
  "ðŸš€ Transform your organic traffic with AI-powered SEO strategies and cutting-edge digital tools. Our comprehensive suite helps entrepreneurs build sustainable online businesses through proven organic growth methods, advanced keyword optimization, and intelligent content marketing systems.",
  "ðŸ“ˆ Discover the future of organic traffic generation with our AI-enhanced digital products. From automated SEO analysis to smart content optimization, everything you need to dominate search results and attract high-quality traffic that converts into loyal customers.",
  "ðŸŽ¯ Boost your website's organic visibility using our expert-curated collection of AI-powered SEO resources. Master technical SEO, content marketing, and organic growth strategies that have helped thousands of businesses achieve sustainable online success.",
  "ðŸ’¡ Master organic traffic generation with our revolutionary AI-driven digital products. Comprehensive step-by-step guides, automated SEO tools, and intelligent analytics help you build lasting online success through sustainable organic growth strategies.",
  "ðŸŒŸ Unlock sustainable organic growth with our AI-powered digital marketplace. Proven strategies, intelligent templates, and cutting-edge tools designed by SEO experts help businesses achieve higher rankings, better conversions, and long-term online success.",
  "âš¡ Experience the difference that AI-enhanced organic traffic makes for your business. Our digital products combine artificial intelligence with proven SEO methodologies to deliver exceptional results in search rankings and sustainable traffic growth."
];

// Enhanced contextual image mapping for specific search terms
export const contextualImages = {
  // Make money related searches
  "make money from home": [
    "https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?w=800&h=400&fit=crop&auto=format&q=80", // person working from home setup
    "https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&h=400&fit=crop&auto=format&q=80", // home office workspace
    "https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?w=800&h=400&fit=crop&auto=format&q=80", // remote work setup
  ],
  "make money online": [
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // online business analytics
    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop&auto=format&q=80", // digital marketing dashboard
    "https://images.unsplash.com/photo-1556155092-490a1ba16284?w=800&h=400&fit=crop&auto=format&q=80", // ecommerce growth
  ],
  "passive income": [
    "https://images.unsplash.com/photo-1579621970563-ebec7560ff3e?w=800&h=400&fit=crop&auto=format&q=80", // investment growth chart
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // financial analytics
    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop&auto=format&q=80", // passive income streams
  ],

  // Facebook related searches
  "facebook ads": [
    "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800&h=400&fit=crop&auto=format&q=80", // Facebook advertising interface
    "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=400&fit=crop&auto=format&q=80", // social media advertising
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80", // mobile social ads
  ],
  "facebook marketing": [
    "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800&h=400&fit=crop&auto=format&q=80", // Facebook business page
    "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=400&fit=crop&auto=format&q=80", // social media strategy
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80", // Facebook engagement
  ],
  "make money on facebook": [
    "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800&h=400&fit=crop&auto=format&q=80", // Facebook monetization
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // Facebook business analytics
    "https://images.unsplash.com/photo-1556155092-490a1ba16284?w=800&h=400&fit=crop&auto=format&q=80", // Facebook commerce
  ],

  // TikTok related searches
  "tiktok marketing": [
    "https://images.unsplash.com/photo-1570194065650-d99bf9d4d665?w=800&h=400&fit=crop&auto=format&q=80", // TikTok content creation
    "https://images.unsplash.com/photo-1562577309-2592ab84b1bc?w=800&h=400&fit=crop&auto=format&q=80", // video content strategy
    "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800&h=400&fit=crop&auto=format&q=80", // mobile video marketing
  ],
  "make money with tiktok": [
    "https://images.unsplash.com/photo-1570194065650-d99bf9d4d665?w=800&h=400&fit=crop&auto=format&q=80", // TikTok creator fund
    "https://images.unsplash.com/photo-1562577309-2592ab84b1bc?w=800&h=400&fit=crop&auto=format&q=80", // TikTok monetization
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // TikTok business growth
  ],

  // Instagram related searches
  "instagram marketing": [
    "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=400&fit=crop&auto=format&q=80", // Instagram strategy
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80", // Instagram visual content
    "https://images.unsplash.com/photo-1570194065650-d99bf9d4d665?w=800&h=400&fit=crop&auto=format&q=80", // Instagram growth
  ],
  "instagram growth": [
    "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=400&fit=crop&auto=format&q=80", // Instagram followers
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80", // Instagram engagement
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // Instagram analytics
  ],

  // YouTube related searches
  "youtube monetization": [
    "https://images.unsplash.com/photo-1562577309-2592ab84b1bc?w=800&h=400&fit=crop&auto=format&q=80", // YouTube content creation
    "https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?w=800&h=400&fit=crop&auto=format&q=80", // YouTube studio setup
    "https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=800&h=400&fit=crop&auto=format&q=80", // YouTube analytics
  ],
  "youtube marketing": [
    "https://images.unsplash.com/photo-1562577309-2592ab84b1bc?w=800&h=400&fit=crop&auto=format&q=80", // YouTube strategy
    "https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?w=800&h=400&fit=crop&auto=format&q=80", // video marketing
    "https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=800&h=400&fit=crop&auto=format&q=80", // YouTube optimization
  ],

  // Affiliate marketing searches
  "affiliate marketing": [
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // affiliate commission tracking
    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop&auto=format&q=80", // affiliate performance
    "https://images.unsplash.com/photo-1556155092-490a1ba16284?w=800&h=400&fit=crop&auto=format&q=80", // affiliate networks
  ],

  // Dropshipping and ecommerce
  "dropshipping": [
    "https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=400&fit=crop&auto=format&q=80", // ecommerce setup
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80", // online store
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // dropshipping analytics
  ],
  "ecommerce": [
    "https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=400&fit=crop&auto=format&q=80", // online shopping
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80", // ecommerce platform
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // ecommerce growth
  ],

  // Cryptocurrency and trading
  "crypto trading": [
    "https://images.unsplash.com/photo-1518770660439-4636190af475?w=800&h=400&fit=crop&auto=format&q=80", // crypto charts
    "https://images.unsplash.com/photo-1639762681485-074b7f938ba0?w=800&h=400&fit=crop&auto=format&q=80", // cryptocurrency trading
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // trading analytics
  ],
  "bitcoin": [
    "https://images.unsplash.com/photo-1518770660439-4636190af475?w=800&h=400&fit=crop&auto=format&q=80", // bitcoin concept
    "https://images.unsplash.com/photo-1639762681485-074b7f938ba0?w=800&h=400&fit=crop&auto=format&q=80", // cryptocurrency
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // crypto investment
  ],

  // Online courses and education
  "online courses": [
    "https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=800&h=400&fit=crop&auto=format&q=80", // online learning
    "https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?w=800&h=400&fit=crop&auto=format&q=80", // e-learning setup
    "https://images.unsplash.com/photo-1581091226825-a6a2a5aee158?w=800&h=400&fit=crop&auto=format&q=80", // digital education
  ],
  "course creation": [
    "https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=800&h=400&fit=crop&auto=format&q=80", // course development
    "https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?w=800&h=400&fit=crop&auto=format&q=80", // content creation
    "https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?w=800&h=400&fit=crop&auto=format&q=80", // educational content
  ]
};

// Enhanced platform-specific images
export const platformSpecificImages = {
  facebook: [
    "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800&h=400&fit=crop&auto=format&q=80", // Facebook marketing
    "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=400&fit=crop&auto=format&q=80", // Social media strategy
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80", // Mobile social engagement
  ],
  tiktok: [
    "https://images.unsplash.com/photo-1570194065650-d99bf9d4d665?w=800&h=400&fit=crop&auto=format&q=80", // TikTok style content
    "https://images.unsplash.com/photo-1562577309-2592ab84b1bc?w=800&h=400&fit=crop&auto=format&q=80", // Video content creation
    "https://images.unsplash.com/photo-1611162617474-5b21e879e113?w=800&h=400&fit=crop&auto=format&q=80", // Social media marketing
  ],
  instagram: [
    "https://images.unsplash.com/photo-1611224923853-80b023f02d71?w=800&h=400&fit=crop&auto=format&q=80", // Instagram feed
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80", // Visual content
    "https://images.unsplash.com/photo-1570194065650-d99bf9d4d665?w=800&h=400&fit=crop&auto=format&q=80", // Social media icons
  ],
  youtube: [
    "https://images.unsplash.com/photo-1562577309-2592ab84b1bc?w=800&h=400&fit=crop&auto=format&q=80", // Video creation
    "https://images.unsplash.com/photo-1499951360447-b19be8fe80f5?w=800&h=400&fit=crop&auto=format&q=80", // Content creation
    "https://images.unsplash.com/photo-1434030216411-0b793f4b4173?w=800&h=400&fit=crop&auto=format&q=80", // Video strategy
  ],
  affiliate: [
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // Business analytics
    "https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=800&h=400&fit=crop&auto=format&q=80", // Performance tracking
    "https://images.unsplash.com/photo-1504868584819-f8e8b4b6d7e3?w=800&h=400&fit=crop&auto=format&q=80", // Marketing tools
  ],
  ecommerce: [
    "https://images.unsplash.com/photo-1556742049-0cfed4f6a45d?w=800&h=400&fit=crop&auto=format&q=80", // E-commerce setup
    "https://images.unsplash.com/photo-1563013544-824ae1b704d3?w=800&h=400&fit=crop&auto=format&q=80", // Online shopping
    "https://images.unsplash.com/photo-1460925895917-afdab827c52f?w=800&h=400&fit=crop&auto=format&q=80", // Business growth
  ]
};

// Enhanced function to get images based on search query with exact matching
export const getImageBySearchQuery = (searchQuery: string): string => {
  const lowerQuery = searchQuery.toLowerCase().trim();
  
  // Check for exact contextual matches first
  for (const [key, images] of Object.entries(contextualImages)) {
    if (lowerQuery.includes(key.toLowerCase()) || key.toLowerCase().includes(lowerQuery)) {
      return images[Math.floor(Math.random() * images.length)];
    }
  }
  
  // Check for platform-specific matches
  if (lowerQuery.includes('facebook')) {
    const images = platformSpecificImages.facebook;
    return images[Math.floor(Math.random() * images.length)];
  }
  
  if (lowerQuery.includes('tiktok')) {
    const images = platformSpecificImages.tiktok;
    return images[Math.floor(Math.random() * images.length)];
  }
  
  if (lowerQuery.includes('instagram')) {
    const images = platformSpecificImages.instagram;
    return images[Math.floor(Math.random() * images.length)];
  }
  
  if (lowerQuery.includes('youtube')) {
    const images = platformSpecificImages.youtube;
    return images[Math.floor(Math.random() * images.length)];
  }
  
  // Fallback to category-based matching
  let category = 'ai'; // default
  
  if (lowerQuery.includes('seo') || lowerQuery.includes('search') || lowerQuery.includes('ranking')) {
    category = 'seo';
  } else if (lowerQuery.includes('social') || lowerQuery.includes('media')) {
    category = 'social';
  } else if (lowerQuery.includes('content') || lowerQuery.includes('blog') || lowerQuery.includes('article')) {
    category = 'content';
  } else if (lowerQuery.includes('email') || lowerQuery.includes('newsletter')) {
    category = 'email';
  } else if (lowerQuery.includes('marketing') || lowerQuery.includes('promotion')) {
    category = 'marketing';
  } else if (lowerQuery.includes('traffic') || lowerQuery.includes('organic') || lowerQuery.includes('visitor')) {
    category = 'traffic';
  }
  
  const images = aiImagesByCategory[category] || aiImagesByCategory['ai'];
  return images[Math.floor(Math.random() * images.length)];
};

// Enhanced function to get 3 mockup images with better contextual matching
export const getMockupImagesBySearchQuery = (searchQuery: string): Array<{url: string, description: string}> => {
  const lowerQuery = searchQuery.toLowerCase().trim();
  
  // Check for exact contextual matches first
  for (const [key, images] of Object.entries(contextualImages)) {
    if (lowerQuery.includes(key.toLowerCase()) || key.toLowerCase().includes(lowerQuery)) {
      return [
        { 
          url: images[0], 
          description: `${key.charAt(0).toUpperCase() + key.slice(1)} Strategy - Professional approach to ${key}` 
        },
        { 
          url: images[1] || images[0], 
          description: `${key.charAt(0).toUpperCase() + key.slice(1)} Success - Proven techniques for ${key}` 
        },
        { 
          url: images[2] || images[0], 
          description: `${key.charAt(0).toUpperCase() + key.slice(1)} Mastery - Advanced ${key} methods` 
        }
      ];
    }
  }

  // Platform-specific matching with detailed descriptions
  if (lowerQuery.includes('facebook')) {
    return [
      { url: platformSpecificImages.facebook[0], description: "Facebook Marketing Strategy - Advanced audience targeting and engagement tactics" },
      { url: platformSpecificImages.facebook[1], description: "Facebook Ads Optimization - ROI-focused advertising campaigns" },
      { url: platformSpecificImages.facebook[2], description: "Facebook Business Growth - Scaling your presence on the platform" }
    ];
  }
  
  if (lowerQuery.includes('tiktok')) {
    return [
      { url: platformSpecificImages.tiktok[0], description: "TikTok Viral Content - Creating engaging videos that trend" },
      { url: platformSpecificImages.tiktok[1], description: "TikTok Marketing Strategy - Building brand awareness through short-form video" },
      { url: platformSpecificImages.tiktok[2], description: "TikTok Monetization - Creator fund and brand partnership opportunities" }
    ];
  }
  
  if (lowerQuery.includes('instagram')) {
    return [
      { url: platformSpecificImages.instagram[0], description: "Instagram Growth Hacks - Organic follower and engagement strategies" },
      { url: platformSpecificImages.instagram[1], description: "Instagram Stories & Reels - Creative content that converts" },
      { url: platformSpecificImages.instagram[2], description: "Instagram Business Success - Converting followers into customers" }
    ];
  }
  
  if (lowerQuery.includes('youtube')) {
    return [
      { url: platformSpecificImages.youtube[0], description: "YouTube Channel Growth - Subscriber acquisition and retention strategies" },
      { url: platformSpecificImages.youtube[1], description: "YouTube Monetization - Ad revenue, sponsorships, and channel memberships" },
      { url: platformSpecificImages.youtube[2], description: "YouTube SEO Mastery - Ranking videos and increasing discoverability" }
    ];
  }

  // Money-making specific descriptions
  if (lowerQuery.includes('make money') || lowerQuery.includes('income') || lowerQuery.includes('earn')) {
    const moneyImages = contextualImages["make money online"] || aiImagesByCategory.marketing;
    return [
      { url: moneyImages[0], description: "Online Income Generation - Multiple revenue stream strategies" },
      { url: moneyImages[1] || moneyImages[0], description: "Digital Profit Optimization - Maximizing your earning potential" },
      { url: moneyImages[2] || moneyImages[0], description: "Passive Income Systems - Automated revenue generation methods" }
    ];
  }

  // Default mockups based on category
  const category = determineCategory(lowerQuery);
  const images = aiImagesByCategory[category] || aiImagesByCategory.ai;
  
  return [
    { url: images[0], description: `Professional ${category} strategy - Advanced techniques and best practices` },
    { url: images[1] || images[0], description: `${category} optimization - Data-driven approach to success` },
    { url: images[2] || images[0], description: `${category} automation - AI-powered tools and workflows` }
  ];
};

// Helper function to determine category
const determineCategory = (query: string): string => {
  if (query.includes('seo') || query.includes('search')) return 'seo';
  if (query.includes('social') || query.includes('media')) return 'social';
  if (query.includes('content') || query.includes('blog')) return 'content';
  if (query.includes('email') || query.includes('newsletter')) return 'email';
  if (query.includes('marketing') || query.includes('promotion')) return 'marketing';
  if (query.includes('traffic') || query.includes('organic')) return 'traffic';
  return 'ai';
};

// Enhanced function to get videos based on search query
export const getVideoBySearchQuery = (searchQuery: string) => {
  const lowerQuery = searchQuery.toLowerCase();
  
  let category = 'ai'; // default
  
  if (lowerQuery.includes('seo') || lowerQuery.includes('search') || lowerQuery.includes('ranking')) {
    category = 'seo';
  } else if (lowerQuery.includes('social') || lowerQuery.includes('media')) {
    category = 'social';
  } else if (lowerQuery.includes('content') || lowerQuery.includes('blog') || lowerQuery.includes('article')) {
    category = 'content';
  } else if (lowerQuery.includes('email') || lowerQuery.includes('newsletter')) {
    category = 'email';
  } else if (lowerQuery.includes('marketing') || lowerQuery.includes('promotion')) {
    category = 'marketing';
  } else if (lowerQuery.includes('traffic') || lowerQuery.includes('organic') || lowerQuery.includes('visitor')) {
    category = 'traffic';
  }
  
  const videos = videosByCategory[category] || videosByCategory['ai'];
  const selectedVideo = videos[Math.floor(Math.random() * videos.length)];
  
  return {
    url: selectedVideo.url,
    title: selectedVideo.title,
    description: `${selectedVideo.description} - Optimized for "${searchQuery}"`,
    duration: selectedVideo.duration,
    category: category
  };
};

// Enhanced function to get 30-second intro videos based on subject with better keyword matching
export const getIntroVideoBySubject = (subject: string) => {
  const lowerSubject = subject.toLowerCase();
  
  // Determine category based on subject keywords
  let category = 'ai'; // default
  
  if (lowerSubject.includes('seo') || lowerSubject.includes('search') || lowerSubject.includes('ranking')) {
    category = 'seo';
  } else if (lowerSubject.includes('traffic') || lowerSubject.includes('organic') || lowerSubject.includes('visitor')) {
    category = 'traffic';
  } else if (lowerSubject.includes('digital') || lowerSubject.includes('toolkit') || lowerSubject.includes('tool')) {
    category = 'digital';
  } else if (lowerSubject.includes('marketing') || lowerSubject.includes('campaign') || lowerSubject.includes('promotion')) {
    category = 'marketing';
  } else if (lowerSubject.includes('ai') || lowerSubject.includes('powered') || lowerSubject.includes('artificial')) {
    category = 'ai';
  } else if (lowerSubject.includes('social') || lowerSubject.includes('media') || lowerSubject.includes('facebook') || lowerSubject.includes('instagram')) {
    category = 'social';
  } else if (lowerSubject.includes('content') || lowerSubject.includes('blog') || lowerSubject.includes('article')) {
    category = 'content';
  } else if (lowerSubject.includes('email') || lowerSubject.includes('newsletter')) {
    category = 'email';
  }
  
  const videos = videosByCategory[category] || videosByCategory['ai'];
  const selectedVideo = videos[Math.floor(Math.random() * videos.length)];
  
  return {
    url: selectedVideo.url,
    title: selectedVideo.title,
    description: `${selectedVideo.description} - Optimized for "${subject}"`,
    duration: selectedVideo.duration,
    category: category
  };
};

// New function to get content based on search terms
export const getContentBySearchTerm = (searchTerm: string) => {
  const lowerSearchTerm = searchTerm.toLowerCase();
  
  if (lowerSearchTerm.includes('seo')) {
    return "ðŸš€ Master SEO with our AI-powered tools and strategies. Transform your search rankings with intelligent keyword research, automated content optimization, and proven techniques that drive organic traffic growth.";
  } else if (lowerSearchTerm.includes('social media')) {
    return "ðŸ“± Revolutionize your social media presence with AI-enhanced content creation, automated posting schedules, and intelligent audience engagement strategies that boost your organic reach.";
  } else if (lowerSearchTerm.includes('content marketing')) {
    return "âœï¸ Elevate your content marketing with AI-powered creation tools, smart distribution strategies, and data-driven optimization techniques that attract and convert your target audience.";
  } else if (lowerSearchTerm.includes('email marketing')) {
    return "ðŸ“§ Transform your email campaigns with AI-generated content, intelligent segmentation, and automated personalization that increases open rates and drives conversions.";
  }
  
  return getRandomContent();
};

export const getRandomContent = () => {
  return organicTrafficContent[Math.floor(Math.random() * organicTrafficContent.length)];
};

export const getRandomImage = () => {
  const allImages = Object.values(aiImagesByCategory).flat();
  return allImages[Math.floor(Math.random() * allImages.length)];
};

// Updated to get 30-second intro videos
export const getRandomVideo = () => {
  const randomIntro = aiIntroVideos[Math.floor(Math.random() * aiIntroVideos.length)];
  return randomIntro.url;
};
